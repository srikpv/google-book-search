(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{32:function(e,t,a){e.exports=a(63)},37:function(e,t,a){},38:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(29),l=a.n(r),o=(a(37),a(38),a(10)),i=a.n(o),s=a(14),u=a(9),m=a(11),d=a(12),f=a.n(d),v=new Headers({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}),E=function(e){return f.a.post("/app/saveBook",e,{headers:v}).then((function(e){return e.data}))},h=function(e){return f.a.put("/app/deleteBooksById/"+e,{headers:v}).then((function(e){return e.data}))},p=function(e){return f.a.get("/app/getSavedBooksById/"+e.join(","),{headers:v}).then((function(e){return e.data}))},b=function(e){return f.a.get("/app/getAllSavedBooks",{headers:v}).then((function(e){return e.data}))},g=function(e,t,a){var n={q:e,maxResults:t,startIndex:a,key:"AIzaSyD3NRTjLuC9Fu7dkxNQVOMAvvZpz6M8BSU"};return f.a.get("https://www.googleapis.com/books/v1/volumes",{params:n}).then((function(e){return e.data}))};function w(){var e=Object(n.useRef)(),t=(Object(n.useRef)(),Object(n.useState)({search:"",maxResults:10,startIndex:0})),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({}),d=Object(m.a)(o,2),f=d[0],v=d[1],b=Object(n.useState)({}),w=Object(m.a)(b,2);w[0],w[1];Object(n.useEffect)((function(){""!==r.search&&g(r.search,r.maxResults,r.startIndex).then((function(e){var t=e.items.map((function(e){return e.id}));p(t).then((function(t){var a=t.map((function(e){return e.id}));e.items.forEach((function(e){a.includes(e.id)?e.saved=1:e.saved=0})),v(e.items)}))}))}),[r]);var k=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=f.filter((function(e){return e.id===t}))[0],"remove"===document.getElementById("Icon_"+a.id).innerHTML?h(a.id).then((function(e){return document.getElementById("Icon_"+a.id).innerHTML="add"})):(n={id:a.id,description:I(a.volumeInfo.description),thumbnail:a.volumeInfo.imageLinks&&a.volumeInfo.imageLinks.thumbnail,canonicalVolumeLink:a.volumeInfo.canonicalVolumeLink,title:a.volumeInfo.title,subtitle:a.volumeInfo.subtitle},E(n).then((function(e){return document.getElementById("Icon_"+a.id).innerHTML="remove"})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){return"undefined"===typeof e?"":String(e).substr(0,210)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{class:"col s1"}),c.a.createElement("div",{class:"col s10"},c.a.createElement("div",{class:"row"},c.a.createElement("form",{class:"col s12",onSubmit:function(t){t.preventDefault(),l(Object(u.a)(Object(u.a)({},r),{},{search:e.current.value,maxResults:10,startIndex:0}))}},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"input-field col s10"},c.a.createElement("input",{ref:e,id:"book_name",type:"text",class:"validate"}),c.a.createElement("label",{for:"book_name"},"Book Name")),c.a.createElement("div",{class:"input-field col s2"},c.a.createElement("button",{class:"btn waves-effect waves-light",type:"submit",name:"action"},"Search",c.a.createElement("i",{class:"material-icons right"},"search"))))))),c.a.createElement("div",{class:"col s1"})),c.a.createElement("div",{className:"row"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{class:"col s1"}),c.a.createElement("div",{class:"col s10"},f.length>0&&f.map((function(e){return c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col s12"},c.a.createElement("div",{class:"card horizontal"},c.a.createElement("div",{class:"card-image"},c.a.createElement("img",{style:{height:"149px",width:"100px"},src:e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.thumbnail})),c.a.createElement("div",{class:"card-stacked"},c.a.createElement("div",{class:"card-action"},c.a.createElement("a",{target:"_blank",href:e.volumeInfo.canonicalVolumeLink},e.volumeInfo.title," + ",e.volumeInfo.subtitle)),c.a.createElement("div",{class:"card-content"},c.a.createElement("p",null,e.volumeInfo.description&&I(e.volumeInfo.description)),c.a.createElement("a",{onClick:function(){return k(e.id)},class:"btn-floating halfway-fab waves-effect waves-light red"},c.a.createElement("i",{class:"material-icons",id:"Icon_"+e.id},1===e.saved?"remove":"add")))))))}))),c.a.createElement("div",{class:"col s1"})),c.a.createElement("div",{className:"row"},c.a.createElement("div",{class:"col s1"}),c.a.createElement("div",{class:"col s8"},c.a.createElement("button",{onClick:function(e){l(Object(u.a)(Object(u.a)({},r),{},{startIndex:r.startIndex-r.maxResults<0?0:r.startIndex-r.maxResults}))},class:"btn waves-effect waves-light",type:"button",name:"action"},"Pre",c.a.createElement("i",{class:"material-icons left"},"arrow_back"))),c.a.createElement("div",{class:"col s2",style:{float:"right"}},c.a.createElement("button",{onClick:function(e){l(Object(u.a)(Object(u.a)({},r),{},{startIndex:r.startIndex+r.maxResults}))},class:"btn waves-effect waves-light",type:"button",name:"action"},"Next",c.a.createElement("i",{class:"material-icons right"},"arrow_forward"))),c.a.createElement("div",{class:"col s1"})))}function k(){Object(n.useRef)(),Object(n.useRef)();var e=Object(n.useState)({}),t=Object(m.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){b().then((function(e){r(e)}))}),[]);var l=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t).then((function(e){return b().then((function(e){r(e)}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{class:"col s1"}),c.a.createElement("div",{class:"col s10"},a&&a.length>0&&a.map((function(e){return c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col s12"},c.a.createElement("div",{class:"card horizontal"},c.a.createElement("div",{class:"card-image"},c.a.createElement("img",{style:{height:"149px",width:"100px"},src:e.thumbnail})),c.a.createElement("div",{class:"card-stacked"},c.a.createElement("div",{class:"card-action"},c.a.createElement("a",{target:"_blank",href:e.canonicalVolumeLink},e.title," + ",e.subtitle)),c.a.createElement("div",{class:"card-content"},c.a.createElement("p",null,e.description),c.a.createElement("a",{onClick:function(){return l(e.id)},class:"btn-floating halfway-fab waves-effect waves-light red"},c.a.createElement("i",{class:"material-icons",id:"Icon_"+e.id},"remove")))))))}))),c.a.createElement("div",{class:"col s1"})))}var I=a(7),x=a(30),j=a.n(x);var O=function(){return Object(n.useEffect)((function(){var e=document.querySelector("#slide-out");j.a.Sidenav.init(e,{})}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("nav",null,c.a.createElement("div",{className:"container-xl"},c.a.createElement("a",{href:"#","data-target":"slide-out",class:"sidenav-trigger show-on-large"},c.a.createElement("i",{class:"material-icons"},"menu")),c.a.createElement("ul",{id:"nav-mobile",class:"left hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement(I.b,{to:"/"},"Google Book Search")),c.a.createElement("li",null,c.a.createElement(I.b,{to:"/Saved"},"Saved"))))),c.a.createElement("ul",{id:"slide-out",class:"sidenav"},c.a.createElement("li",null,c.a.createElement(I.b,{to:"/"},"Search")),c.a.createElement("li",null,c.a.createElement(I.b,{to:"/Saved"},"Saved"))))},y=a(1);var S=function(){return c.a.createElement(I.a,null,c.a.createElement(y.c,null,c.a.createElement("div",null,c.a.createElement(O,null),c.a.createElement(y.a,{exact:!0,path:"/",component:w}),c.a.createElement(y.a,{path:"/Saved",component:k}))))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(62);l.a.render(c.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");N?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):B(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):B(e)}))}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.c311e051.chunk.js.map